<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Title of the document</title>

	<!-- Include Bootstrap -->
	<link type="text/css" rel="stylesheet" href="bootstrap/css/bootstrap.min.css">
	<script type="text/javascript" src="bootstrap/js/bootstrap.min.js"></script>

	<!-- Include jQuery -->
	<script type="text/javascript" src="js/jquery-3.3.1.min.js"></script>

	<!-- Stylesheets -->
	<link type="text/css" rel="stylesheet" href="css/style.css">
	<link type="text/css" rel="stylesheet" href="css/structure.css">

	<!-- JavaScript -->
	<script type="text/javascript" src="js/clock.js"></script>

	<!-- FullCalendar.io -->
	<link rel='stylesheet' href='fullcalendar/fullcalendar.min.css' />
	<script src='fullcalendar/lib/moment.min.js'></script>
	<script src='fullcalendar/fullcalendar.min.js'></script>
	<script type='text/javascript' src='fullcalendar/gcal.min.js'></script>

	
	<!-- Fonts -->



	<script type="text/javascript">

	    // document.addEventListener("DOMContentLoaded", init);
	    function LoadPage(){
		  $.get('http://mcatquestionoftheday.com/', function(data) {

		    var question = $(data).find(".entry");

		    $('#questOTD').html(question); // TODO Change id?
		    $('#polls-523-loading').remove();
		    $('#mailchimp').remove();
		    $('.twitter-share-button').parent().remove();
		    $("#ans523 div").remove();
		  });

		}

		function wordOfTheDay() {
			/*http://www.dictionary.com/wordoftheday/2018/01/27/flakelet */

			var urlbase = "http://www.dictionary.com/wordoftheday/";
			var today = new Date();

			var day = ("0" + today.getDate() ).slice(-2);
    		var month = today.getMonth() + 1;
    		month = ("0" + month).slice(-2);

			var url = urlbase + today.getFullYear() + "/" + month + "/" + day + "/flakelet";

			$.get(url, function(data) {
			    var question = $(data).find(".definition-box");
			    var dailyWord = $(question).find("strong");
			    var dailyDefinition = $(question).find("ol");
			    $('#wotd').append(dailyWord);
			    $('#wotd').append(dailyDefinition);

			    console.log(question.html());
			    console.log(dailyWord.html());
			    console.log(dailyDefinition.html());

		  	});
		}

		function quoteOfTheDay(){
		  $.get('http://www.eduro.com/', function(data) {
		  	/*First instance of the daily quote*/
		    var question = $(data).find("dailyquote").first();

		    $('#quoteOTD').html(question);
		  });

		}

		function setUpCalendar(elementID, calendarID) {
    		
    		$(elementID).fullCalendar({
				googleCalendarApiKey: 'AIzaSyDbyT1SHJ9bZtwIbNSj1-MJPoRBAouaeSA',
    			events: {
        			googleCalendarId: calendarID
        		},
				defaultView: 'listMonth',
		    	validRange: function(nowDate) {
		        	return {
		            	start: nowDate
		        	};
		    	}
        	});
		}


		function hideElement(elementID){
			
			console.log("On CLICK Called!");

			if( $(elementID).hasClass( "hiddenElement" ) ) {
				$(elementID).removeClass("hiddenElement");
			}
			else {
				$(elementID).addClass("hiddenElement");
			}
		}

		function addTogglerHandlers() {

			$( "#toggle-calendar" ).click(function(){
				hideElement("#calendar");
			});

			$( "#toggle-wotd" ).click(function(){
				hideElement("#wotd");
			});

			$( "#toggle-quote" ).click(function(){
				hideElement("#quoteOTD");
			});

			$( "#toggle-qotd" ).click(function(){
				hideElement("#questOTD");
			});

			$( "#toggle-links" ).click(function(){
				hideElement("#fav-links");
			});

			$( "#toggle-scholar" ).click(function(){
				hideElement("#scholar-widget");
			});


		}

		$( document ).ready(function() {

			console.log("Document ready");
			clock("day", "month", "year", "clockHours", "clockMinutes");

			LoadPage();

			wordOfTheDay();
			quoteOfTheDay();

			/**
			 * Scholar search:
			 * https://scholar.google.com/scholar?hl=en&as_sdt=0%2C47&q=elephant+seal&btnG
			 */
			$( "#scholar-search" ).submit(function( event ) {
			
				var queryBase = "https://scholar.google.com/scholar?hl=en&as_sdt=0%2C47&q=";

				// Get user input
				var userInput = $("#search-input").val();

				// Create search
				var query = queryBase + userInput.replace(' ', '+') + "&btnG=";
				console.log(query);
				window.open(query, '_blank');


				event.preventDefault();
			});

			// Set up the calendar
			var classCal = '2c26hnlqhj22kljceoin71o60k@group.calendar.google.com';
			setUpCalendar('#calendar', classCal);

			addTogglerHandlers();

		});
		
	</script>

</head>

<body>
	<div class="container-fluid">
		
		<div class="row">

			<!-- Column A -->
			<div class="col-md-3">

				<div class="row">

					<!-- Calendar -->
					<div class="col-md-12" id="calendar">
	

					</div>

					<!-- Word of the Day -->
					<div class="col-md-12" id="wotd">

						<h3>Word of the Day</h3>

					</div>

				</div>

			</div>

			<!-- Empty -->
			<div class="col-md-1">
			</div>

			<!-- Column B -->
			<div class="col-md-4" id="colB"> 
				<div class="row" id="mid-col">

					<!-- Clock & Date -->
					<div class="col-md-12">
						
						<!-- <h2>Clock &amp; Date</h2> -->

						<div id="time">
							<span id="clockHours"></span>
							<span>:</span>
							<span id="clockMinutes"></span>
						</div>

						<div id="date">
							<span id="month"></span>
							<span>.</span>
							<span id="day"></span>
							<span>.</span>
							<span id="year"></span>
						</div>

					</div>

					<!-- Icons -->
					<div class="col-md-12">

						<ul id="toggle-icons">
							<li>
								<a href="#" id="toggle-calendar">
									Calendar
								</a>
							</li>
							<li>
								<a href="#" id="toggle-wotd">
									WOTD
								</a>
							</li>
							<li>
								<a href="#" id="toggle-quote">
									Quote
								</a>
							</li>
							<li>
								<a href="#" id="toggle-qotd">
									QOTD
								</a>
							</li>
							<li>
								<a href="#" id="toggle-links">
									Links
								</a>
							</li>
							<li>
								<a href="#" id="toggle-scholar">
									Scholar
								</a>
							</li>
						</ul>

					</div>

					<!-- Quote -->
					<div class="col-md-12" id="quoteOTD">
						
						<h2>Quote</h2>

					</div>

				</div>


			</div>

			<!-- Empty 1 -->
			<div class="col-md-1">
			</div>

			<!-- Column C -->
			<div class="col-md-3">

				<!-- Scholar -->
				<div class="col-md-12" id="scholar-widget">
				
					<!-- <form method="get" action="http://scholar.google.com/"> -->
					<form action="" id="scholar-search">
						<input type="text" name="search-input" id="search-input" />
						<input type="submit" value="Search Google Scholar" />
					</form>

				</div>

				<!-- Links -->
				<div class="col-md-12" id="fav-links">
						
					<h2>Links</h2>
					<ul style="list-style-type:circle">
					  <li><a href="https://canvas.vt.edu">Canvas</a></li>
					  <li><a href="http://www.webassign.net">WebAssign</a></li>
					  <li><a href="https://github.com">GitHub</a></li>
			          <li><a href="https://www.pearsonmylabandmastering.com/northamerica/masteringphysics/">MasteringPhysics</a></li>
		    	      <li><a href="https://drive.google.com/drive/my-drive">Google Drive</a></li>
					</ul>

				</div>

				<!-- Question of the Day -->
				<div class="col-md-12" id="questOTD">

				</div>

			</div>

		</div>
	</div>
</body>

</html>